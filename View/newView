from tkinter import *
import time
import requests

class NewsAPI:
    url = ('https://newsapi.org/v2/top-headlines?'
           'country=us&'
           'apiKey=694b9bb634cc49df9a294a7b16cc74a7')

    response = requests.get(url)

    my_json = response.json()

    curr_article = 0

    def article_titles(self):
        title_list = []

        for i in range(5):
            title_list.append(self.my_json['articles'][i]['title'])

        return title_list



def exit_full_screen(event):
    root.overrideredirect(False)


root = Tk()

root.bind("<Escape>", exit_full_screen)
root.configure(background="black")
w, h = root.winfo_screenwidth(), root.winfo_screenheight()
root.geometry("%dx%d+0+0" % (w, h))

root.overrideredirect(True)

clock = Label(root, font=("Helvetica", 80), fg="white", bg="Black")
clock.place(relx=0.85, rely=0.1, anchor=CENTER)


def tick():
# get the current local time from the PC
    time2 = time.strftime('%H:%M:%S')
# if time string has changed, update it
    clock.config(text=time2)
# calls itself every 200 milliseconds
# to update the time display as needed
# could use >200 ms, but display gets jerky
    clock.after(200, tick)

tick()

news = Label(root,font=("Helvetica", 20), text="NewsAPI", fg="white", bg="Black")
news.place(relx=0.5, rely=0.8, anchor=CENTER)

news_API = NewsAPI()

def news_update():

    headlines = news_API.article_titles()

    news.config(text=headlines[news_API.curr_article])

    news_API.curr_article += 1
    print(news_API.curr_article)
    news.after(20000, news_update)

news_update()

root.mainloop()



